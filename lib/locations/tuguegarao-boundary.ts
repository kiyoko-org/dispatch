export interface TuguegaraoBoundaryPoint {
  latitude: number;
  longitude: number;
}

export const TUGUEGARAO_BOUNDARY: TuguegaraoBoundaryPoint[] = [
  { latitude: 17.5876578, longitude: 121.6817808 },
  { latitude: 17.5840578, longitude: 121.6819954 },
  { latitude: 17.581235, longitude: 121.6821885 },
  { latitude: 17.5788826, longitude: 121.682167 },
  { latitude: 17.5760597, longitude: 121.6823172 },
  { latitude: 17.5739936, longitude: 121.6825962 },
  { latitude: 17.572889, longitude: 121.6828966 },
  { latitude: 17.5714366, longitude: 121.6833901 },
  { latitude: 17.5701683, longitude: 121.6843128 },
  { latitude: 17.5688999, longitude: 121.6858363 },
  { latitude: 17.5679794, longitude: 121.6878104 },
  { latitude: 17.5673657, longitude: 121.6899347 },
  { latitude: 17.5674066, longitude: 121.6921234 },
  { latitude: 17.5681021, longitude: 121.6941404 },
  { latitude: 17.5690227, longitude: 121.6959858 },
  { latitude: 17.5710274, longitude: 121.6984534 },
  { latitude: 17.5729299, longitude: 121.7002558 },
  { latitude: 17.5743823, longitude: 121.7013502 },
  { latitude: 17.5762438, longitude: 121.7025089 },
  { latitude: 17.586901, longitude: 121.7079162 },
  { latitude: 17.5896624, longitude: 121.7096758 },
  { latitude: 17.593201, longitude: 121.7119074 },
  { latitude: 17.5982735, longitude: 121.7149114 },
  { latitude: 17.6007483, longitude: 121.7165208 },
  { latitude: 17.6021391, longitude: 121.7177868 },
  { latitude: 17.6029113, longitude: 121.7189072 },
  { latitude: 17.6033868, longitude: 121.7205333 },
  { latitude: 17.6035708, longitude: 121.7225289 },
  { latitude: 17.6036075, longitude: 121.723817 },
  { latitude: 17.6035606, longitude: 121.7259836 },
  { latitude: 17.6032819, longitude: 121.727633 },
  { latitude: 17.6031618, longitude: 121.7283439 },
  { latitude: 17.602176, longitude: 121.7303652 },
  { latitude: 17.6012392, longitude: 121.7317772 },
  { latitude: 17.5996848, longitude: 121.7335796 },
  { latitude: 17.59541, longitude: 121.7371201 },
  { latitude: 17.5930987, longitude: 121.7380428 },
  { latitude: 17.5906646, longitude: 121.7386865 },
  { latitude: 17.5876987, longitude: 121.7393303 },
  { latitude: 17.5839964, longitude: 121.7400813 },
  { latitude: 17.5818077, longitude: 121.7412615 },
  { latitude: 17.5801099, longitude: 121.742506 },
  { latitude: 17.5786371, longitude: 121.7438578 },
  { latitude: 17.5769802, longitude: 121.7459178 },
  { latitude: 17.5747709, longitude: 121.7492223 },
  { latitude: 17.5714979, longitude: 121.7564535 },
  { latitude: 17.5706797, longitude: 121.7584061 },
  { latitude: 17.5698819, longitude: 121.7600155 },
  { latitude: 17.5692273, longitude: 121.7610454 },
  { latitude: 17.5674271, longitude: 121.7632341 },
  { latitude: 17.567069, longitude: 121.7637598 },
  { latitude: 17.5669361, longitude: 121.7642426 },
  { latitude: 17.5662405, longitude: 121.7665171 },
  { latitude: 17.5653609, longitude: 121.7690921 },
  { latitude: 17.564829, longitude: 121.7702722 },
  { latitude: 17.5638675, longitude: 121.7714524 },
  { latitude: 17.5630492, longitude: 121.7719888 },
  { latitude: 17.5592236, longitude: 121.7744565 },
  { latitude: 17.5560731, longitude: 121.7762804 },
  { latitude: 17.5526156, longitude: 121.778233 },
  { latitude: 17.5475623, longitude: 121.7811513 },
  { latitude: 17.5417109, longitude: 121.7837262 },
  { latitude: 17.5380076, longitude: 121.7852926 },
  { latitude: 17.5342633, longitude: 121.786623 },
  { latitude: 17.5271429, longitude: 121.7885971 },
  { latitude: 17.525272, longitude: 121.7890421 },
  { latitude: 17.5249546, longitude: 121.7891176 },
  { latitude: 17.5255206, longitude: 121.7911238 },
  { latitude: 17.5256727, longitude: 121.7913265 },
  { latitude: 17.5256933, longitude: 121.7914509 },
  { latitude: 17.5258248, longitude: 121.7916266 },
  { latitude: 17.5260959, longitude: 121.7922036 },
  { latitude: 17.5260131, longitude: 121.7926294 },
  { latitude: 17.5261204, longitude: 121.7927341 },
  { latitude: 17.5261464, longitude: 121.7929794 },
  { latitude: 17.5260359, longitude: 121.7933166 },
  { latitude: 17.5258638, longitude: 121.7935005 },
  { latitude: 17.5258865, longitude: 121.7937628 },
  { latitude: 17.5258151, longitude: 121.7939025 },
  { latitude: 17.5257274, longitude: 121.7941222 },
  { latitude: 17.5257842, longitude: 121.7943555 },
  { latitude: 17.5259953, longitude: 121.7944287 },
  { latitude: 17.526122, longitude: 121.7946552 },
  { latitude: 17.5262633, longitude: 121.7947744 },
  { latitude: 17.5262893, longitude: 121.794892 },
  { latitude: 17.5262146, longitude: 121.7950844 },
  { latitude: 17.5261221, longitude: 121.7953982 },
  { latitude: 17.5259211, longitude: 121.7955847 },
  { latitude: 17.5257457, longitude: 121.7957875 },
  { latitude: 17.5255627, longitude: 121.7958442 },
  { latitude: 17.5254287, longitude: 121.7962065 },
  { latitude: 17.525408, longitude: 121.796558 },
  { latitude: 17.5252069, longitude: 121.7967337 },
  { latitude: 17.5252018, longitude: 121.7969716 },
  { latitude: 17.5253719, longitude: 121.7970933 },
  { latitude: 17.5252533, longitude: 121.7972311 },
  { latitude: 17.5251761, longitude: 121.7974624 },
  { latitude: 17.5253205, longitude: 121.7978571 },
  { latitude: 17.525269, longitude: 121.7980436 },
  { latitude: 17.5250679, longitude: 121.7981453 },
  { latitude: 17.5248519, longitude: 121.7980874 },
  { latitude: 17.5247203, longitude: 121.7981538 },
  { latitude: 17.5247073, longitude: 121.7985302 },
  { latitude: 17.5246878, longitude: 121.7986715 },
  { latitude: 17.5244653, longitude: 121.7988452 },
  { latitude: 17.5243452, longitude: 121.7991603 },
  { latitude: 17.524199, longitude: 121.7992335 },
  { latitude: 17.5270976, longitude: 121.8219038 },
  { latitude: 17.5709524, longitude: 121.8127231 },
  { latitude: 17.5802661, longitude: 121.8062815 },
  { latitude: 17.5805027, longitude: 121.8061303 },
  { latitude: 17.5954735, longitude: 121.7965655 },
  { latitude: 17.617094, longitude: 121.7813377 },
  { latitude: 17.617514, longitude: 121.7803895 },
  { latitude: 17.618028, longitude: 121.7793778 },
  { latitude: 17.6187002, longitude: 121.7784262 },
  { latitude: 17.6193969, longitude: 121.7776238 },
  { latitude: 17.6204316, longitude: 121.7764845 },
  { latitude: 17.6215736, longitude: 121.7752557 },
  { latitude: 17.6226626, longitude: 121.7742956 },
  { latitude: 17.6237545, longitude: 121.7736584 },
  { latitude: 17.6251152, longitude: 121.7732145 },
  { latitude: 17.6268264, longitude: 121.7727026 },
  { latitude: 17.628094, longitude: 121.7719549 },
  { latitude: 17.6288743, longitude: 121.7706639 },
  { latitude: 17.6293907, longitude: 121.7697626 },
  { latitude: 17.6299275, longitude: 121.7689419 },
  { latitude: 17.6306586, longitude: 121.7680889 },
  { latitude: 17.6312261, longitude: 121.7675793 },
  { latitude: 17.6318498, longitude: 121.7671072 },
  { latitude: 17.6327342, longitude: 121.7665976 },
  { latitude: 17.633859, longitude: 121.7660236 },
  { latitude: 17.6354273, longitude: 121.7650283 },
  { latitude: 17.6363742, longitude: 121.7644894 },
  { latitude: 17.6371411, longitude: 121.7641783 },
  { latitude: 17.6379033, longitude: 121.7639835 },
  { latitude: 17.6381485, longitude: 121.7637701 },
  { latitude: 17.6384396, longitude: 121.7634594 },
  { latitude: 17.638823, longitude: 121.7632395 },
  { latitude: 17.6391297, longitude: 121.7629552 },
  { latitude: 17.6393419, longitude: 121.7623964 },
  { latitude: 17.6394927, longitude: 121.7618716 },
  { latitude: 17.6394773, longitude: 121.7613351 },
  { latitude: 17.6392991, longitude: 121.7606766 },
  { latitude: 17.6410713, longitude: 121.7598735 },
  { latitude: 17.6411784, longitude: 121.7599876 },
  { latitude: 17.6413374, longitude: 121.759945 },
  { latitude: 17.6415273, longitude: 121.7598973 },
  { latitude: 17.6415874, longitude: 121.7598394 },
  { latitude: 17.6416913, longitude: 121.7598428 },
  { latitude: 17.6419834, longitude: 121.7597645 },
  { latitude: 17.6420743, longitude: 121.7596401 },
  { latitude: 17.642321, longitude: 121.7595056 },
  { latitude: 17.6425291, longitude: 121.7594903 },
  { latitude: 17.6427234, longitude: 121.7593519 },
  { latitude: 17.6428461, longitude: 121.7591985 },
  { latitude: 17.6430352, longitude: 121.7594206 },
  { latitude: 17.6431397, longitude: 121.7592712 },
  { latitude: 17.6433916, longitude: 121.7594683 },
  { latitude: 17.6435296, longitude: 121.7592974 },
  { latitude: 17.6435554, longitude: 121.7593204 },
  { latitude: 17.6436056, longitude: 121.7592792 },
  { latitude: 17.6438304, longitude: 121.7595259 },
  { latitude: 17.6441111, longitude: 121.7593174 },
  { latitude: 17.644165, longitude: 121.7593852 },
  { latitude: 17.6444004, longitude: 121.7597926 },
  { latitude: 17.6444469, longitude: 121.7599027 },
  { latitude: 17.6445145, longitude: 121.7602173 },
  { latitude: 17.6444419, longitude: 121.7603327 },
  { latitude: 17.6443396, longitude: 121.7604782 },
  { latitude: 17.6442721, longitude: 121.7605106 },
  { latitude: 17.6441801, longitude: 121.7605106 },
  { latitude: 17.643965, longitude: 121.7604553 },
  { latitude: 17.6437563, longitude: 121.7604017 },
  { latitude: 17.6434453, longitude: 121.76069 },
  { latitude: 17.6436316, longitude: 121.7608044 },
  { latitude: 17.643698, longitude: 121.7608376 },
  { latitude: 17.6442471, longitude: 121.7610501 },
  { latitude: 17.6445252, longitude: 121.7611316 },
  { latitude: 17.6446898, longitude: 121.7610447 },
  { latitude: 17.6448911, longitude: 121.7610547 },
  { latitude: 17.6452259, longitude: 121.7611809 },
  { latitude: 17.6454905, longitude: 121.7613915 },
  { latitude: 17.6455409, longitude: 121.7614317 },
  { latitude: 17.6455793, longitude: 121.7614847 },
  { latitude: 17.6457803, longitude: 121.7617532 },
  { latitude: 17.6458071, longitude: 121.7617656 },
  { latitude: 17.6458394, longitude: 121.7617666 },
  { latitude: 17.645862, longitude: 121.7617549 },
  { latitude: 17.6459128, longitude: 121.7616718 },
  { latitude: 17.646021, longitude: 121.7614799 },
  { latitude: 17.6461835, longitude: 121.7615284 },
  { latitude: 17.6467012, longitude: 121.7618196 },
  { latitude: 17.6475013, longitude: 121.7622777 },
  { latitude: 17.6490821, longitude: 121.763194 },
  { latitude: 17.6494312, longitude: 121.7634374 },
  { latitude: 17.6500164, longitude: 121.7638252 },
  { latitude: 17.6500802, longitude: 121.764026 },
  { latitude: 17.6505001, longitude: 121.7642125 },
  { latitude: 17.6509922, longitude: 121.7644666 },
  { latitude: 17.651206, longitude: 121.7646964 },
  { latitude: 17.6517728, longitude: 121.7649911 },
  { latitude: 17.6522906, longitude: 121.7648749 },
  { latitude: 17.65261, longitude: 121.7648046 },
  { latitude: 17.6528496, longitude: 121.7649668 },
  { latitude: 17.6530944, longitude: 121.7653237 },
  { latitude: 17.6533034, longitude: 121.7655947 },
  { latitude: 17.684688, longitude: 121.7800285 },
  { latitude: 17.6852498, longitude: 121.7725704 },
  { latitude: 17.6849663, longitude: 121.7712801 },
  { latitude: 17.6849414, longitude: 121.7711359 },
  { latitude: 17.6848871, longitude: 121.770798 },
  { latitude: 17.6847414, longitude: 121.7701475 },
  { latitude: 17.6846149, longitude: 121.7695735 },
  { latitude: 17.6845063, longitude: 121.7690485 },
  { latitude: 17.6844538, longitude: 121.768699 },
  { latitude: 17.6844012, longitude: 121.7683494 },
  { latitude: 17.6843335, longitude: 121.7678165 },
  { latitude: 17.6840546, longitude: 121.7660776 },
  { latitude: 17.6840336, longitude: 121.7655905 },
  { latitude: 17.6840201, longitude: 121.7651901 },
  { latitude: 17.6840225, longitude: 121.7650212 },
  { latitude: 17.6840259, longitude: 121.7647845 },
  { latitude: 17.6840336, longitude: 121.7643922 },
  { latitude: 17.6840847, longitude: 121.7638745 },
  { latitude: 17.6841658, longitude: 121.7631396 },
  { latitude: 17.6842568, longitude: 121.7627088 },
  { latitude: 17.6843041, longitude: 121.7624483 },
  { latitude: 17.6843584, longitude: 121.7622702 },
  { latitude: 17.6845015, longitude: 121.7619413 },
  { latitude: 17.684567, longitude: 121.7617298 },
  { latitude: 17.6845894, longitude: 121.7615739 },
  { latitude: 17.6845938, longitude: 121.7613593 },
  { latitude: 17.6846283, longitude: 121.7611011 },
  { latitude: 17.6847191, longitude: 121.760735 },
  { latitude: 17.6848123, longitude: 121.760395 },
  { latitude: 17.684942, longitude: 121.760099 },
  { latitude: 17.685007, longitude: 121.7599411 },
  { latitude: 17.685041, longitude: 121.75982 },
  { latitude: 17.6850711, longitude: 121.7595743 },
  { latitude: 17.6851567, longitude: 121.7592832 },
  { latitude: 17.6852854, longitude: 121.7587595 },
  { latitude: 17.6854349, longitude: 121.7580467 },
  { latitude: 17.6855052, longitude: 121.7578711 },
  { latitude: 17.6856012, longitude: 121.7577547 },
  { latitude: 17.6857093, longitude: 121.7576437 },
  { latitude: 17.6857815, longitude: 121.7575324 },
  { latitude: 17.6858243, longitude: 121.7573923 },
  { latitude: 17.6858185, longitude: 121.7572977 },
  { latitude: 17.6857879, longitude: 121.7572146 },
  { latitude: 17.6857336, longitude: 121.7571301 },
  { latitude: 17.6856512, longitude: 121.7570587 },
  { latitude: 17.6855649, longitude: 121.7569735 },
  { latitude: 17.6855079, longitude: 121.7568694 },
  { latitude: 17.6854812, longitude: 121.7567512 },
  { latitude: 17.685486, longitude: 121.7566248 },
  { latitude: 17.6855141, longitude: 121.7557075 },
  { latitude: 17.6855394, longitude: 121.7547805 },
  { latitude: 17.6855199, longitude: 121.7541062 },
  { latitude: 17.6854467, longitude: 121.7533512 },
  { latitude: 17.6853685, longitude: 121.7531088 },
  { latitude: 17.6852551, longitude: 121.7527708 },
  { latitude: 17.6851937, longitude: 121.7525244 },
  { latitude: 17.6851161, longitude: 121.7522713 },
  { latitude: 17.685119, longitude: 121.7519692 },
  { latitude: 17.6851261, longitude: 121.7517489 },
  { latitude: 17.6851739, longitude: 121.7514646 },
  { latitude: 17.6852193, longitude: 121.75124 },
  { latitude: 17.6852748, longitude: 121.7509396 },
  { latitude: 17.6853975, longitude: 121.7505593 },
  { latitude: 17.6854429, longitude: 121.7503414 },
  { latitude: 17.6854665, longitude: 121.7502227 },
  { latitude: 17.6854403, longitude: 121.7500685 },
  { latitude: 17.6853918, longitude: 121.7498942 },
  { latitude: 17.6852819, longitude: 121.7496306 },
  { latitude: 17.6852103, longitude: 121.7493617 },
  { latitude: 17.6851931, longitude: 121.7491565 },
  { latitude: 17.6851988, longitude: 121.7487489 },
  { latitude: 17.6852065, longitude: 121.7485491 },
  { latitude: 17.6852206, longitude: 121.7483519 },
  { latitude: 17.6852419, longitude: 121.7482171 },
  { latitude: 17.6852596, longitude: 121.7481561 },
  { latitude: 17.6852874, longitude: 121.748078 },
  { latitude: 17.68531, longitude: 121.7480153 },
  { latitude: 17.685317, longitude: 121.7479757 },
  { latitude: 17.6853273, longitude: 121.7478973 },
  { latitude: 17.685333, longitude: 121.7478524 },
  { latitude: 17.6853349, longitude: 121.747739 },
  { latitude: 17.6853375, longitude: 121.747511 },
  { latitude: 17.6853687, longitude: 121.7470846 },
  { latitude: 17.6854028, longitude: 121.7467358 },
  { latitude: 17.6853854, longitude: 121.7461236 },
  { latitude: 17.6853739, longitude: 121.7456644 },
  { latitude: 17.6853778, longitude: 121.7453827 },
  { latitude: 17.6853701, longitude: 121.7451158 },
  { latitude: 17.6853598, longitude: 121.7448704 },
  { latitude: 17.6853458, longitude: 121.7446116 },
  { latitude: 17.6853266, longitude: 121.7443675 },
  { latitude: 17.6852997, longitude: 121.7441663 },
  { latitude: 17.6853183, longitude: 121.7441093 },
  { latitude: 17.6851972, longitude: 121.7440559 },
  { latitude: 17.6851145, longitude: 121.7440014 },
  { latitude: 17.685074, longitude: 121.74368 },
  { latitude: 17.6851779, longitude: 121.7435572 },
  { latitude: 17.6852742, longitude: 121.7433732 },
  { latitude: 17.6853395, longitude: 121.7430953 },
  { latitude: 17.6854805, longitude: 121.7427056 },
  { latitude: 17.6856455, longitude: 121.7424926 },
  { latitude: 17.685759, longitude: 121.742401 },
  { latitude: 17.6858243, longitude: 121.7423483 },
  { latitude: 17.6860169, longitude: 121.7422436 },
  { latitude: 17.6861234, longitude: 121.7421606 },
  { latitude: 17.6862335, longitude: 121.7419838 },
  { latitude: 17.6865188, longitude: 121.7413415 },
  { latitude: 17.6866736, longitude: 121.7410239 },
  { latitude: 17.6867815, longitude: 121.7408595 },
  { latitude: 17.6880456, longitude: 121.7391119 },
  { latitude: 17.6871014, longitude: 121.7385793 },
  { latitude: 17.6855068, longitude: 121.7366481 },
  { latitude: 17.6839122, longitude: 121.7341804 },
  { latitude: 17.6821336, longitude: 121.7305541 },
  { latitude: 17.6805389, longitude: 121.7268634 },
  { latitude: 17.6787603, longitude: 121.7229581 },
  { latitude: 17.6766004, longitude: 121.7187896 },
  { latitude: 17.6741398, longitude: 121.7143965 },
  { latitude: 17.6728824, longitude: 121.7124975 },
  { latitude: 17.6720413, longitude: 121.7113545 },
  { latitude: 17.6708277, longitude: 121.7097187 },
  { latitude: 17.6696419, longitude: 121.7087745 },
  { latitude: 17.6684765, longitude: 121.7081523 },
  { latitude: 17.6663911, longitude: 121.7079806 },
  { latitude: 17.6635082, longitude: 121.7080879 },
  { latitude: 17.6618112, longitude: 121.7081094 },
  { latitude: 17.6584579, longitude: 121.7079806 },
  { latitude: 17.6537756, longitude: 121.7070365 },
  { latitude: 17.6486842, longitude: 121.7052555 },
  { latitude: 17.645208, longitude: 121.7036247 },
  { latitude: 17.6412002, longitude: 121.7016506 },
  { latitude: 17.6372126, longitude: 121.6999125 },
  { latitude: 17.631405, longitude: 121.6972303 },
  { latitude: 17.6273764, longitude: 121.6956424 },
  { latitude: 17.6223047, longitude: 121.6937112 },
  { latitude: 17.61529, longitude: 121.6908574 },
  { latitude: 17.6142878, longitude: 121.6902351 },
  { latitude: 17.6134902, longitude: 121.689291 },
  { latitude: 17.6128971, longitude: 121.6883468 },
  { latitude: 17.6120511, longitude: 121.6873077 },
  { latitude: 17.6108315, longitude: 121.6865229 },
  { latitude: 17.6075796, longitude: 121.6851496 },
  { latitude: 17.6055343, longitude: 121.6844845 },
  { latitude: 17.6004006, longitude: 121.683197 },
  { latitude: 17.5977417, longitude: 121.6826606 },
  { latitude: 17.5975539, longitude: 121.6826312 },
  { latitude: 17.59541, longitude: 121.6822958 },
  { latitude: 17.5924646, longitude: 121.681931 },
  { latitude: 17.5904192, longitude: 121.6817808 },
  { latitude: 17.5876578, longitude: 121.6817808 },
];

export const isPointInPolygon = (
  latitude: number,
  longitude: number,
  polygon: TuguegaraoBoundaryPoint[] = TUGUEGARAO_BOUNDARY
): boolean => {
  if (!polygon.length) {
    return false;
  }
  let inside = false;
  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {
    const xi = polygon[i].longitude;
    const yi = polygon[i].latitude;
    const xj = polygon[j].longitude;
    const yj = polygon[j].latitude;
    const intersects =
      (yi > latitude) !== (yj > latitude) &&
      longitude < ((xj - xi) * (latitude - yi)) / (yj - yi) + xi;
    if (intersects) {
      inside = !inside;
    }
  }
  return inside;
};

export const isWithinTuguegarao = (
  latitude?: number | null,
  longitude?: number | null
): boolean => {
  const lat = Number(latitude);
  const lon = Number(longitude);
  if (!Number.isFinite(lat) || !Number.isFinite(lon)) {
    return false;
  }
  return isPointInPolygon(lat, lon);
};
